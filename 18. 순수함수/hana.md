# 순수함수란 무엇인가요?

순수함수는 주어진 입력에 대해 항상 동일한 결과를 리턴하고 외부 상태나 변수에 영향을 주지 않음. 하지만 사이드 이펙트를 가진 함수는 무엇인가를 하기 위해 리액트 컴폰넌트 외부와 함께 수행되기 때문에 순수함수와는 달리 외부 상태를 변경하거나, 외부와 상호작용해 수행한 결과가 어떤지 예측할 수 없음

리액트를 예로 들자면 리액트 컴포넌트는 함수로 정의되며, 대부분의 리액트 함수는 순수함수처럼 동작함.  
즉, 입력(props)을 받으면 예측 가능한 jsx를 return하는 것을 의미함

사이드 이펙트는 다음과 같은 것들이 있음

- 백엔드 서버로 api 데이터 요펑
- 브라우저 api와 상호작용(document, window 직접 사용 등 DOM 조작에 관련됨)
- setTimeout, setInterval 등 타이머 관련 함수

리액트에서 컴포넌트를 순수함수로 유지하지 않으면 다음과 같은 문제가 발생함

- 예측 불가능
  컴포넌트가 사이드 이펙트를 일으키는 경우, props가 변경되지 않아도 예측할 수 없는 동작을 수행할 수 있음

- 성능 저하
  컴포넌트가 사이드 이펙트를 일으키는 경우, props가 변경되지 않아도 렌더링을 수행해야함 -> 성능 저하될 수 있음

- 테스트 어려움
  사이드 이펙트가 있는 경우 테스트 시 예상치 못한 결과가 발생할 수 있고, 테스트 코드를 작성하기 어려울 수 있음

- 유지보수 저하
  사이드 이펙트가 있는 컴포넌트는 코드의 복잡성을 증가시킬 수 있고, 상태 변화를 추적하기 어려울 수 있음

그래서 리액트에서는 컴포넌트를 순수함수로 만드는 걸 권장하나 다음의 경우에는 순수함수로 만들 수 없음

- 외부 데이터 의존하는 경우
  API 등으로 외부 데이터를 가져오는 경우 순수함수로 만들 수 없음. 왜냐하면 외부데이터에 의존하기 때문에 외부 데이터 변경에 따라 다른 값을 리턴하기 때문임
- 브라우저 이벤트에 의존하는 컴포넌트
  브라우저 이벤트에 대한 처리를 수행하는 것은 부작용이므로 순수 함수로 만들 수 없음

=> 하지만 리덕스 같은 상태 관리 라이브러리를 통해 순수 함수로 유지할 수 있음

**참고**

- https://velog.io/@kcj_dev96/%EC%88%9C%EC%88%98-%ED%95%A8%EC%88%98%EC%99%80-%EB%A6%AC%EC%95%A1%ED%8A%B8%EC%9D%98-%EA%B4%80%EA%B3%84
