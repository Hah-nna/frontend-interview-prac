## 1. 스위칭의 필요성

여러 개의 장치(노드)가 있는 경우 서로 데이터를 주고 받게 하기 위해서 선(링크)으로 연결함
-> 그런데 모든 장치를 서로 링크로 연결하면 문제점 발생
-> 장치가 많아질수록 비용 증가함 + 데이터를 보낼 때 한 링크만 쓰니까 나머지 링크의 대다수는 유휴시간이 많아져서 효율 저하
-> 이러한 문제점들을 해결하기 위해 여러 장치들을 스위치에 연결되도록 구성함(스위치는 필요할 때마다 두 개의 장치를 연결함)
-> 스위치들이 연결되어 큰 규모의 네트워크를 만들 수 있음

## 2. 스위칭 방식의 종류

- 스위칭 방식
  - 회선교환
  - 패킷교환
    - 데이터 그램
    - 가상 회선 방식
  - 메시지 교환 방식

### 2.1. 회선 교환(Circuit Switching)

- 두 장치 사이에 물리적인(논리적인) 선을 연결하는 방식.
- 전화망(PSTN, Public Switching Telephone Network)이 이 방식 사용.
- 특징
  - 회선 연결 시, 데이터를 주고 받는 동안 계속 유지(자원이 연결되어 있는 동안 계속 점유)
  - 두 장치 사이에 고정된 속도를 가짐
  - 연결을 설정하는 데 시간이 소요되며 이후에는 지연시간 없음
  - 데이터 전송이 많은 경우 유용

### 2.2. 메세지 교환(Message Switching)

- 전달 할 메세지 전체를 한번(통째로)에 인접 보드로 모두 전달(즉, 메세지를 보내는 동안 다름 사람은 사용하지 못하지만 일단 다 보내면 다른 사람이 해당 링크 사용 가능)
- 메세지를 수신하면 다음 노드로 메세지를 전달(**store and forward**(메세지가 오면 저장(store) -> 보냄(forward) -> 다 보내면 다른 장치가 그 링크 사용 가능))
- 특징
  - 유휴 링크는 다른 메세지 전송에 사용함으로서 효율적임
  - 각 노드는 메세지 저장공간 확보
- 문제점
  - 각 노드마다 저장공간을 확보해야하는데, 만약 8기가까지만 가능하면 8.1기가의 파일은 저장하지 못함 -> 계속 저장 공간을 늘리는 것도 한계가 있음 -> 그래서 통신 장치가 저장할 수 있는 크기로 잘라서 보내는 방법인 패킷 교환 방식이 등장함

### 2.3. 패킷 교환

- 데이터를 패킷 단위로 나눠서 전송
- 패킷 단위로 나눈 메세지들의 순서를 알리기 위한 정보로 헤더가 들어감

- 특징
  - 군집성이 있는(bursty) 트래픽 전송에 적합
  - 두 장치가 하나의 전송속도를 갖지 않음. 즉, 우선 순위 적용 가능
  - 회선 교환 방식은 링크에 문제가 발생하면 중간에 다른 링크를 선택할 수 없음

#### 2.3.1. 패킷 교환 - 데이터 그램 방식

- 각 패킷이 독립적으로 처리됨. 목적지에 순서와 상관없이 도착
  (연결설정 없이 패킷 단위로 자른 메세지들을 목적지로 쭉쭉 보냄 -> 순서대로 보내도 도착할 때는 순서가 다르게 도착할 수도 있음 )
- 연결 설정 과정이 없음
- 통상적으로 양단간에 요청-응답 형태를 가짐
- 항상 같은 경로로 전송하지 않음(빠르게 보낼 수 있는 경로를 찾아서 보내기 때문) -> 네트워크를 효율적으로 사용할 수 있음
- 목적지에 패킷들이 도착했을 때 순서가 다르게 도착할 수 있으므로 순서제어(받은 패킷의 순서를 맞추어주는 것)라는 추가적인 기능이 필요함
- 네트워크 비연결형(데이터 그램) 패킷 스위치
  <img src="https://woovictory.github.io/img/datagram_packet.png">

#### 2.3.2. 패킷 교환 - 가상 회선 방식

- 데이터를 보내기 전 연결 설정
- 모든 패킷들이 가상 회선을 따라 앞뒤의 순서를 갖고 전송(동일한 경로로 순서대로 목적지에 도착)
- 다만, 링크가 다른 전송과 공유(왜냐면 패킷 단위로 잘라서 보내기 때문에 여러 패킷들이 해당 링크를 공유할 수 있음 )
- 개념적으로 회선교환하고 비슷한데, 다른점은 패킷교환 방식을 사용하기 때문에 선 자체를 다른 사람도 공유해 사용할 수 있음

- 가상 회선 네트워크 스위치
  <img src="https://woovictory.github.io/img/virtual_circut_packet.png">
-

## 3. MPLS(Multi-Protocol Label Switching)

- 라우터 및 스위치처럼 작동이 가능함

  - 라우터처럼 동작할 경우, MPLS는 대상 주소를 기반으로 패킷을 전달함
  - 스위치처럼 동작할 경우, Lable을 기반으로 패킷을 전달

    <img src="https://miro.medium.com/v2/resize:fit:970/format:webp/1*Umdp5m0NBwWmMx8TbcaJfw.png" width="50%" height="50%">
